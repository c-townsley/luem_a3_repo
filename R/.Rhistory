knitr::opts_chunk$set(echo = TRUE)
knitr::opts_knit$set(root.dir = "https://penno365-my.sharepoint.com/:f:/r/personal/towns_upenn_edu/Documents/Classes/Classes_Sem4_2023Spring/CPLN%20675_Land%20Modeling/Assignments/LUEM_Assignment3_FloodInundationProbability/Data?csf=1&web=1&e=B3Uwoe")
rm(list=ls())
test <- st_read("https://penno365-my.sharepoint.com/:u:/r/personal/towns_upenn_edu/Documents/Classes/Classes_Sem4_2023Spring/CPLN%20675_Land%20Modeling/Assignments/LUEM_Assignment3_FloodInundationProbability/Data/Calgary/Raw/CALGIS_CITYBOUND_LIMIT/CALGIS_CITYBOUND_LIMIT.shp?csf=1&web=1&e=k3A9Wv")
library(tidyverse)
library(sf)
test <- st_read("https://penno365-my.sharepoint.com/:u:/r/personal/towns_upenn_edu/Documents/Classes/Classes_Sem4_2023Spring/CPLN%20675_Land%20Modeling/Assignments/LUEM_Assignment3_FloodInundationProbability/Data/Calgary/Raw/CALGIS_CITYBOUND_LIMIT/CALGIS_CITYBOUND_LIMIT.shp?csf=1&web=1&e=k3A9Wv")
knitr::opts_knit$set(root.dir = "C:\Users\rids2\PennO365\Townsley, Charlie - LUEM_Assignment3_FloodInundationProbability\Data") #Riddhi's Directory
knitr::opts_knit$set(root.dir = "C:/Users/rids2/PennO365/Townsley, Charlie - LUEM_Assignment3_FloodInundationProbability/Data") #Riddhi's Directory
st_read("Denver/Raw/Colorado_City_Boundaries/Colorado_City_Boundaries.shp")
library(tidyverse)
library(tidyverse)
library(sf)
st_read("Denver/Raw/Colorado_City_Boundaries/Colorado_City_Boundaries.shp")
read_sf("Denver/Raw/Colorado_City_Boundaries/Colorado_City_Boundaries.shp")
read_sf("Denver/Raw/Colorado_City_Boundaries/Colorado_City_Boundaries.shp") %>%
set_union()
read_sf("Denver/Raw/Colorado_City_Boundaries/Colorado_City_Boundaries.shp")
read_sf("Denver/Raw/denver_boundary/denver_boundary.shp.shp")
read_sf("Denver/Raw/denver_boundary/denver_boundary.shp")
read_sf("Denver/Raw/denver_boundary/denver_boundary.shp") %>%
st_transform(crs = 2231)
plot(denver_boundary)
read_sf("Denver/Raw/denver_boundary/denver_boundary.shp") %>%
st_transform(crs = 2231)
denver_boundary <- read_sf("Denver/Raw/denver_boundary/denver_boundary.shp") %>%
st_transform(crs = 2231)
plot(denver_boundary)
plot(denver_boundary$GEOID10)
st_crs(denver_boundary)
denver_boundary <-read_sf("Denver/Raw/denver_boundary/denver_boundary.shp")
st_crs(denver_boundary)
denver_boundary <-read_sf("Denver/Raw/denver_boundary/denver_boundary.shp")
fishnet <- st_make_grid(denver_boundary,
cellsize = 1000,
square = TRUE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
ggplot()+
geom_sf(data = fishnet)+
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")
fishnet <- st_make_grid(denver_boundary,
cellsize = 1,
square = TRUE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
ggplot()+
geom_sf(data = fishnet)+
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")
fishnet <- st_make_grid(denver_boundary,
cellsize = 10000,
square = TRUE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
ggplot()+
geom_sf(data = fishnet)+
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")
fishnet <- st_make_grid(denver_boundary,
cellsize = 100000,
square = TRUE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
ggplot()+
geom_sf(data = fishnet)+
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")
fishnet <- st_make_grid(denver_boundary,
cellsize = 0.1,
square = TRUE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
ggplot()+
geom_sf(data = fishnet)+
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")
fishnet <- st_make_grid(denver_boundary,
cellsize = 0.001,
square = TRUE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
fishnet <- st_make_grid(denver_boundary,
cellsize = 0.001,
square = TRUE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
ggplot()+
geom_sf(data = fishnet)+
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")
fishnet <- st_make_grid(denver_boundary,
cellsize = 0.001,
square = TRUE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.)
ggplot()+
denver_boundary <-read_sf("Denver/Processed/denver_bound.shp")
fishnet <- st_make_grid(denver_boundary,
cellsize = 10000,
square = TRUE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
ggplot()+
geom_sf(data = fishnet)+
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")
fishnet <- st_make_grid(denver_boundary,
cellsize = 300,
square = TRUE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
fishnet <- st_make_grid(denver_boundary,
cellsize = 300,
square = TRUE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
ggplot()+
geom_sf(data = fishnet)+
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")
fishnet <- st_make_grid(denver_boundary,
cellsize = 300,
square = TRUE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
fishnet <- st_make_grid(denver_boundary,
cellsize = 5000,
square = TRUE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
ggplot()+
geom_sf(data = fishnet)+
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")
fishnet <- st_make_grid(denver_boundary,
cellsize = 1320,
square = TRUE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
ggplot()+
geom_sf(data = fishnet)+
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")
fishnet <- st_make_grid(denver_boundary,
cellsize = 2640,
square = TRUE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
ggplot()+
geom_sf(data = fishnet)+
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")
fishnet <- st_make_grid(denver_boundary,
cellsize = 1320,
square = TRUE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
fishnet <- st_make_grid(denver_boundary,
cellsize = 1320,
square = TRUE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
ggplot()+
geom_sf(data = fishnet)+
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")
ggplot()+
geom_sf(data = fishnet,
fill = "lightgrey")+
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")
mapTheme <- theme(plot.title =element_text(size=12),
plot.subtitle = element_text(size=8),
plot.caption = element_text(size = 6),
axis.line=element_blank(),
axis.text.x=element_blank(),
axis.text.y=element_blank(),
axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),
panel.background=element_blank(),
panel.border=element_blank(),
panel.grid.major=element_line(colour = 'transparent'),
panel.grid.minor=element_blank(),
legend.direction = "vertical",
legend.position = "right",
plot.margin = margin(1, 1, 1, 1, 'cm'),
legend.key.height = unit(1, "cm"), legend.key.width = unit(0.2, "cm"))
plotTheme <- theme(
plot.title =element_text(size=12),
plot.subtitle = element_text(size=8),
plot.caption = element_text(size = 6),
axis.text.x = element_text(size = 10, angle = 45, hjust = 1),
axis.text.y = element_text(size = 10),
axis.title.y = element_text(size = 10),
# Set the entire chart region to blank
panel.background=element_blank(),
plot.background=element_blank(),
#panel.border=element_rect(colour="#F0F0F0"),
# Format the grid
panel.grid.major=element_line(colour="#D0D0D0",size=.75),
axis.ticks=element_blank())
ggplot()+
geom_sf(data = fishnet,
fill = "lightgrey")+
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")+
mapTheme
ggplot()+
geom_sf(data = fishnet,
fill = "lightgrey")+
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")+
plotTheme
ggplot()+
geom_sf(data = fishnet,
fill = "lightgrey")+
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")
mapTheme <- theme(plot.title =element_text(size=12),
plot.subtitle = element_text(size=8),
plot.caption = element_text(size = 6),
axis.line=element_blank(),
axis.text.x=element_blank(),
axis.text.y=element_blank(),
axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),
panel.background=element_blank(),
panel.border=element_blank(),
panel.grid.major=element_line(colour = 'transparent'),
panel.grid.minor=element_blank(),
legend.direction = "vertical",
legend.position = "right",
plot.margin = margin(1, 1, 1, 1, 'cm'),
legend.key.height = unit(1, "cm"), legend.key.width = unit(0.2, "cm"))
plotTheme <- theme(
plot.title =element_text(size=12),
plot.subtitle = element_text(size=8),
plot.caption = element_text(size = 6),
axis.text.x = element_text(size = 10, angle = 45, hjust = 1),
axis.text.y = element_text(size = 10),
axis.title.y = element_text(size = 10),
# Set the entire chart region to blank
panel.background=element_blank(),
plot.background=element_blank(),
#panel.border=element_rect(colour="#F0F0F0"),
# Format the grid
panel.grid.major=element_line(colour="#D0D0D0",size=.75),
axis.ticks=element_blank())
denver_boundary <-read_sf("Denver/Processed/denver_bound.shp")
fishnet <- st_make_grid(denver_boundary,
cellsize = 1320,
square = TRUE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
ggplot()+
geom_sf(data = fishnet,
fill = "lightgrey")+
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")
denver_boundary <-read_sf("Denver/Processed/denver_bound.shp")
fishnet <- st_make_grid(denver_boundary,
cellsize = 1320,
square = TRUE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
ggplot()+
geom_sf(data = fishnet,
fill = "lightgrey")+
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")
denver_fishnet <- st_make_grid(denver_boundary,
cellsize = 1320,
square = TRUE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
denver_fishnet <- st_make_grid(denver_boundary,
cellsize = 1320,
square = TRUE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
ggplot()+
geom_sf(data = denver_fishnet,
fill = "lightgrey")+
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")
rm(fishnet)
denver_fishnet <- st_make_grid(denver_boundary,
cellsize = 1320,
square = FALSE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
denver_fishnet <- st_make_grid(denver_boundary,
cellsize = 1320,
square = FALSE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
ggplot()+
geom_sf(data = denver_fishnet,
fill = "lightgrey")+
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")
ggplot()+
geom_sf(data = denver_fishnet,
color="lightgrey", fill = "lightgrey")+
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")
ggplot()+
geom_sf(data = denver_fishnet,
color="lightgrey", fill = "grey")+
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")
ggplot()+
geom_sf(data = denver_fishnet,
color="darkgrey", fill = "lightgrey")+
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")
knitr::opts_knit$set(root.dir = "C:/Users/rids2/PennO365/Townsley, Charlie - LUEM_Assignment3_FloodInundationProbability/Data") #Riddhi's Directory
knitr::opts_chunk$set(echo = TRUE)
#knitr::opts_knit$set(root.dir = "C:/Users/ctown/OneDrive - PennO365/Classes/Classes_Sem4_2023Spring/CPLN 675_Land Modeling/Assignments/LUEM_Assignment3_FloodInundationProbability/Data") #Charlie's directory
knitr::opts_knit$set(root.dir = "C:/Users/rids2/PennO365/Townsley, Charlie - LUEM_Assignment3_FloodInundationProbability/Data") #Riddhi's Directory
rm(list=ls())
library(tidyverse)
library(tidyverse)
library(sf)
mapTheme <- theme(plot.title =element_text(size=12),
plot.subtitle = element_text(size=8),
plot.caption = element_text(size = 6),
axis.line=element_blank(),
axis.text.x=element_blank(),
axis.text.y=element_blank(),
axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),
panel.background=element_blank(),
panel.border=element_blank(),
panel.grid.major=element_line(colour = 'transparent'),
panel.grid.minor=element_blank(),
legend.direction = "vertical",
legend.position = "right",
plot.margin = margin(1, 1, 1, 1, 'cm'),
legend.key.height = unit(1, "cm"), legend.key.width = unit(0.2, "cm"))
plotTheme <- theme(
plot.title =element_text(size=12),
plot.subtitle = element_text(size=8),
plot.caption = element_text(size = 6),
axis.text.x = element_text(size = 10, angle = 45, hjust = 1),
axis.text.y = element_text(size = 10),
axis.title.y = element_text(size = 10),
# Set the entire chart region to blank
panel.background=element_blank(),
plot.background=element_blank(),
#panel.border=element_rect(colour="#F0F0F0"),
# Format the grid
panel.grid.major=element_line(colour="#D0D0D0",size=.75),
axis.ticks=element_blank())
denver_boundary <-read_sf("Denver/Processed/denver_bound.shp")
denver_boundary <-read_sf("Denver/Processed/denver_bound.shp")
denver_boundary <-read_sf("Denver/Processed/LUEM_Asgn3_Denver/NewData/denver_bound.shp")
denver_boundary <-read_sf("Denver/Processed/LUEM_Asgn3_Denver/NewData/denver_bound/denver_bound.shp")
denver_fishnet <- st_make_grid(denver_boundary,
cellsize = 1320,
square = FALSE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
ggplot()+
geom_sf(data = denver_fishnet,
color="darkgrey", fill = "lightgrey")+
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")
st_write(denver_fishnet, "Denver/Processed/R exports/denver_fishnet/denver_fishnet.shp")
st_write(denver_fishnet, "Denver/Processed/R exports/denver_fishnet/denver_fishnet.shp"
append = TRUE)
st_write(denver_fishnet, "Denver/Processed/R exports/denver_fishnet/denver_fishnet.shp",
append = TRUE)
st_write(denver_fishnet, "Denver/Processed/R exports/denver_fishnet/denver_fishnet.shp",
append = TRUE, geometry = TRUE)
View(denver_fishnet)
View(denver_fishnet)
denver_lulc <- read_sf("Denver/Processed/LUEM_Asgn3_Denver/NewData/denver_lulc_coded/den_lulc_c/dblbnd.adf")
denver_lulc <- read_sf("Denver/Processed/LUEM_Asgn3_Denver/NewData/denver_lulc_coded/den_lulc_c/denver_lulc.tif")
st_drivers()
install.packages(raster)
install.packages("raster")
library(raster)
library(data.table)
?raster()
denver_lulc <- raster(system.file("Denver/Processed/LUEM_Asgn3_Denver/NewData/denver_lulc_coded/den_lulc_c/denver_lulc.tif"))
denver_lulc <- raster("Denver/Processed/LUEM_Asgn3_Denver/NewData/denver_lulc_coded/den_lulc_c/denver_lulc.tif")
View(denver_lulc)
View(denver_lulc)
denver_lulc_fishnet <- st_make_grid(denver_fishnet,
cellsize = 1320,
square=FALSE) %>%
.[denver_lulc_fishnet] %>%
st_sf() %>%
mutate(uniqueID - rownames(.))
denver_lulc_fishnet <- st_make_grid(denver_lulc,
cellsize = 1320,
square=FALSE) %>%
.[denver_lulc_fishnet] %>%
st_sf() %>%
mutate(uniqueID - rownames(.))
denver_lulc_fishnet <- st_make_grid(denver_lulc,
cellsize = 1320,
square=FALSE) %>%
.[denver_lulc] %>%
st_sf() %>%
mutate(uniqueID - rownames(.))
plot(denver_lulc)
denver_lulc_fishnet <- st_make_grid(denver_lulc,
cellsize = 1320,
square = FALSE) %>%
.[denver_lulc] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
denver_lulc_fishnet <- st_make_grid(denver_lulc,
cellsize = 1320,
square = FALSE) %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
ggplot()+
geom_sf(data = denver_lulc_fishnet) +
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")
view(denver_lulc_fishnet)
ggplot()+
geom_sf(data = denver_fishnet,
color="darkgrey", fill = "lightgrey")+
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")
denver_lulc_fishnet <- st_make_grid(denver_lulc,
cellsize = 1320,
square = FALSE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
st_crs(denver_boundary)
denver_lulc <- raster("Denver/Processed/LUEM_Asgn3_Denver/NewData/denver_lulc_coded/den_lulc_c/denver_lulc.tif") %>%
st_transform(crs=2232)
view(denver_lulc_fishnet)
denver_lulc_fishnet <- st_make_grid(denver_lulc,
cellsize = 1320,
square = FALSE) %>%
.[denver_boundary] %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
denver_lulc_fishnet <- st_make_grid(denver_lulc,
cellsize = 1320,
square = FALSE) %>%
st_sf() %>%
mutate(uniqueID = rownames(.))
view(denver_lulc_fishnet)
ggplot()+
geom_sf(data = denver_lulc_fishnet) +
geom_sf(data = denver_boundary,
color = "red", fill = "transparent")
View(denver_fishnet)
View(denver_fishnet)
